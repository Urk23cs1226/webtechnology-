const Waste = require('../models/Waste'); exports.add = async (req,res)=>{ try{ const { type, quantity, location } = req.body; const waste = new Waste({ type, quantity, location, user: req.userId }); await waste.save(); res.status(201).json(waste); }catch(err){ res.status(500).json({error:err.message}); } }; exports.list = async (req,res)=>{ try{ const items = await Waste.find().populate('user','name email').sort({ collectedAt:-1 }); res.json(items); }catch(err){ res.status(500).json({error:err.message}); } };